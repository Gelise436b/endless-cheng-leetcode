### å•é¢˜ç²¾æï¼šLeetCode [1493] åˆ æ‰ä¸€ä¸ªå…ƒç´ ä»¥åå…¨ä¸º 1 çš„æœ€é•¿å­æ•°ç»„ï¼ˆMediumï¼‰

---

#### ğŸ” **é¢˜ç›®æ ¸å¿ƒ**
ç»™å®šä¸€ä¸ªåªå« `0` å’Œ `1` çš„æ•°ç»„ï¼Œ**æ°å¥½åˆ é™¤ä¸€ä¸ªå…ƒç´ **åï¼Œä½¿å¾—å‰©ä½™éƒ¨åˆ†**å…¨ä¸º 1**ã€‚æ±‚æ“ä½œå**æœ€é•¿è¿ç»­ 1 å­æ•°ç»„çš„é•¿åº¦**ã€‚

> âš ï¸ æ³¨æ„ï¼šå¿…é¡»åˆ æ‰ä¸€ä¸ªå…ƒç´ ï¼ˆå³ä½¿åŸæ•°ç»„å…¨æ˜¯ 1ï¼Œä¹Ÿå¾—åˆ ä¸€ä¸ªï¼‰ã€‚

---

#### ğŸ§  **å…³é”®æ´å¯Ÿï¼šé€†å‘æ€ç»´è½¬åŒ–**
ç›´æ¥æ¨¡æ‹Ÿâ€œæšä¸¾æ¯ä¸ªä½ç½®åˆ é™¤å†æ‰©å±•â€ â†’ O(nÂ²)ï¼Œä½æ•ˆä¸”å¤æ‚ã€‚

âœ… **æ­£ç¡®æ€è·¯**ï¼š  
> â€œåˆ æ‰ä¸€ä¸ªå…ƒç´ åå…¨ä¸º 1â€ â‡¨ **åŸæ•°ç»„ä¸­å­˜åœ¨ä¸€ä¸ªæœ€å¤šåŒ…å«ä¸€ä¸ª 0 çš„è¿ç»­å­æ•°ç»„**ï¼Œä¸”è¯¥å­æ•°ç»„é•¿åº¦ â‰¥ 2ï¼ˆå› ä¸ºè¦åˆ ä¸€ä¸ªï¼‰ã€‚

è¿›ä¸€æ­¥ç­‰ä»·äºï¼š  
> **æ‰¾ä¸€ä¸ªæœ€é•¿çš„å­æ•°ç»„ï¼Œå…¶ä¸­ 0 çš„ä¸ªæ•° â‰¤ 1**ï¼Œç„¶å**ç­”æ¡ˆ = è¯¥å­æ•°ç»„é•¿åº¦ - 1**ï¼ˆå› ä¸ºå¿…é¡»åˆ æ‰é‚£ä¸ª 0ï¼Œæˆ–ä»»æ„ä¸€ä¸ª 1ï¼‰ã€‚

ä½†æ³¨æ„ï¼šè‹¥æ•´ä¸ªæ•°ç»„å…¨æ˜¯ 1ï¼ˆæ—  0ï¼‰ï¼Œåˆ™æœ€é•¿å­æ•°ç»„ä¸º `n`ï¼Œä½†å¿…é¡»åˆ ä¸€ä¸ª â†’ ç­”æ¡ˆä¸º `n - 1`ã€‚  
è€Œä¸Šè¿°æ¨¡å‹ä¾ç„¶æˆç«‹ï¼š`cnt0 = 0 â‰¤ 1`ï¼Œçª—å£é•¿åº¦ä¸º `n`ï¼Œè¿”å› `n - 1`ã€‚

å› æ­¤ï¼Œ**æ— éœ€ç‰¹åˆ¤å…¨ 1 æƒ…å†µ**ï¼

---

#### ğŸ’¡ **æ»‘åŠ¨çª—å£å»ºæ¨¡**
- **çŠ¶æ€ç»´æŠ¤**ï¼š`cnt0` â€”â€” å½“å‰çª—å£ `[left, right]` ä¸­ 0 çš„ä¸ªæ•°ï¼›
- **æ‰©å¼ **ï¼š`right` å³ç§»ï¼Œè‹¥ `nums[right] == 0`ï¼Œåˆ™ `cnt0++`ï¼›
- **æ”¶ç¼©æ¡ä»¶**ï¼š`cnt0 > 1`ï¼ˆè¶…è¿‡ä¸€ä¸ª 0ï¼Œä¸åˆæ³•ï¼‰ï¼›
- **æ”¶ç¼©æ–¹å¼**ï¼šå·¦ç§» `left`ï¼Œè‹¥ `nums[left] == 0`ï¼Œåˆ™ `cnt0--`ï¼›
- **æ›´æ–°ç­”æ¡ˆ**ï¼šæ¯æ¬¡çª—å£åˆæ³•æ—¶ï¼Œ**æœ‰æ•ˆé•¿åº¦ = `(right - left + 1) - 1 = right - left`**  
  ï¼ˆå› ä¸ºå¿…é¡»åˆ æ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥ä¸èƒ½å–å®Œæ•´çª—å£é•¿åº¦ï¼‰ã€‚

> âœ… æ‰€ä»¥ä»£ç ä¸­ç›´æ¥ `ans = max(ans, right - left)`ï¼Œ**å¤©ç„¶å‡ 1**ã€‚

---

#### âœ… **æœ€ç»ˆä»£ç è§£æ**
```cpp
class Solution {
public:
    int longestSubarray(vector<int>& nums) {
        int ans = 0, cnt0 = 0, left = 0;
        for (int right = 0; right < nums.size(); ++right) {
            cnt0 += (1 - nums[right]);          // nums[right]==0 â†’ +1ï¼›==1 â†’ +0
            while (cnt0 > 1) {                  // çª—å£éæ³•ï¼š0 è¶…è¿‡ 1 ä¸ª
                cnt0 -= (1 - nums[left]);       // ç§»å‡º left ä½ç½®çš„è´¡çŒ®
                left++;
            }
            ans = max(ans, right - left);       // åˆæ³•çª—å£é•¿åº¦ = (right-left+1)ï¼Œä½†å¿…é¡»åˆ ä¸€ä¸ª â†’ -1
        }
        return ans;
    }
};
```

> ğŸ“Œ **ä¸ºä»€ä¹ˆæ˜¯ `right - left` è€Œä¸æ˜¯ `right - left + 1 - 1`ï¼Ÿ**  
> å› ä¸º `right - left + 1` æ˜¯çª—å£é•¿åº¦ï¼Œå‡ 1 å¾— `right - left`ï¼Œæ­£å¥½æ˜¯è¡¨è¾¾å¼ã€‚

---

#### âš™ï¸ **å¤æ‚åº¦åˆ†æ**
- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šè¿›å‡ºçª—å£ä¸€æ¬¡ï¼›
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ç”¨å‡ ä¸ªå˜é‡ã€‚

---

#### ğŸ§© **è¾¹ç•Œä¸é™·é˜±**
| æƒ…å†µ | è¯´æ˜ | æœ¬è§£æ³•æ˜¯å¦å¤„ç† |
|------|------|----------------|
| å…¨ä¸º 1 | å¦‚ `[1,1,1]` â†’ å¿…é¡»åˆ ä¸€ä¸ª â†’ ç­”æ¡ˆ 2 | âœ… `cnt0=0`ï¼Œçª—å£é•¿ 3ï¼Œ`ans = 2` |
| å…¨ä¸º 0 | å¦‚ `[0,0,0]` â†’ æ— æ³•å¾—åˆ°å…¨ 1 â†’ ç­”æ¡ˆ 0 | âœ… `cnt0` å§‹ç»ˆ >1ï¼Œçª—å£æ— æ³•å½¢æˆæœ‰æ•ˆé•¿åº¦ï¼Œ`ans=0` |
| ä»…ä¸€ä¸ª 1 | `[0,1,0]` â†’ æœ€ä¼˜åˆ ä¸­é—´ 1 ä¸¤ä¾§çš„ 0ï¼Ÿä¸è¡Œï¼åªèƒ½ä¿ç•™ `[1]` å¹¶åˆ å®ƒï¼Ÿä½†åˆ åä¸ºç©º â†’ å®é™…æœ€ä¼˜ï¼šä¿ç•™ `[1]` å¹¶åˆ ä¸€ä¸ª 0ï¼Ÿä¸ï¼Œå¿…é¡»åˆ ä¸€ä¸ªå…ƒç´ åå‰©ä½™å…¨ 1ã€‚å”¯ä¸€åˆæ³•ï¼šé€‰ `[1]` å¹¶åˆ å®ƒè‡ªå·±ï¼Ÿä¸è¡Œï¼æ­£ç¡®ç†è§£ï¼š**å­æ•°ç»„å¿…é¡»åœ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ åâ€œå‰©ä¸‹â€çš„éƒ¨åˆ†å…¨ä¸º 1**ã€‚ä¾‹å¦‚ `[0,1,0]` ä¸­ï¼Œé€‰å­æ•°ç»„ `[0,1]`ï¼Œåˆ æ‰ 0 â†’ å‰© `[1]`ï¼›æˆ–é€‰ `[1,0]`ï¼Œåˆ  0 â†’ å‰© `[1]`ã€‚çª—å£ `[0,1]` é•¿ 2ï¼Œ`ans = 2-1=1`ã€‚ | âœ… çª—å£ `[0,1]`ï¼š`cnt0=1`ï¼Œåˆæ³•ï¼Œ`right-left = 1-0 =1` |

> âœ… æœ¬è§£æ³•åœ¨æ‰€æœ‰è¾¹ç•Œä¸‹å‡æ­£ç¡®ã€‚

---

#### ğŸ”„ **é—®é¢˜è½¬åŒ–æ¨¡æ¿**
é‡åˆ°â€œ**åˆ é™¤/è·³è¿‡/å¿½ç•¥è‡³å¤š K ä¸ªæŸç±»å…ƒç´ **â€çš„é—®é¢˜ï¼Œä¼˜å…ˆè€ƒè™‘ï¼š
> **â€œè½¬åŒ–ä¸ºï¼šæ‰¾ä¸€ä¸ªæœ€å¤šåŒ…å« K ä¸ªè¯¥ç±»å…ƒç´ çš„æœ€é•¿å­æ•°ç»„â€**

å¸¸è§åº”ç”¨ï¼š
- [1493]ï¼šåˆ  1 ä¸ª 0 â†’ æœ€å¤š 1 ä¸ª 0ï¼›
- [1004] æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•° IIIï¼šç¿»è½¬ K ä¸ª 0 â†’ æœ€å¤š K ä¸ª 0ï¼›
- [424] æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦ï¼šæ›¿æ¢ K æ¬¡ â†’ æœ€å¤š K ä¸ªéä¸»å­—ç¬¦ã€‚

---

#### âœ¨ **ä¸€å¥è¯æ€»ç»“**  
> **â€œåˆ ä¸€ä¿å…¨â€ â‡¨ â€œå®¹ä¸€æ±‚é•¿â€ï¼Œæ»‘çª—ç»´æŠ¤å¼‚å¸¸è®¡æ•°ï¼Œç­”æ¡ˆå¤©ç„¶å‡ä¸€ã€‚**
